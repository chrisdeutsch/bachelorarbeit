%==============================================================================
\chapter{Aufbau und Methodik}
\label{sec:aufbau_und_methodik}
%==============================================================================

%------------------------------------------------------------------------------
\section{Der PETRA-Resonator}
\label{sec:petra_resonator}
%------------------------------------------------------------------------------
\begin{figure}[htb]
  \centering
  \includegraphics[scale=0.6875]{./figs/cavity/cavity.pdf}
  \caption[Schematische Darstellung des Querschnitts eines siebenzelligen PETRA-Resonators mit Koppelschleife und zwei Abstimmstempeln]{Schematische Darstellung des Querschnitts eines siebenzelligen PETRA-Resonators mit Koppelschleife und zwei Abstimmstempeln. Der Abstand zweier benachbarten Zellen beträgt \SI{30}{\centi\metre} und die Gesamtlänge des Resonators von Flansch zu Flansch \SI{222}{\centi\metre}.}
  \label{fig:petra_cavity}
\end{figure}
Im Rahmen dieser Arbeit wird das elektrische Feld von zwei siebenzelligen Beschleunigungsresonatoren vom Typ PETRA \cite{desy_petra} vermessen, welche in Kooperation zwischen DESY und Balzers Hochvakuum GmbH hergestellt wurden.
Der Resonator ist ausgelegt auf die Beschleunigung von ultrarelativistischen Elektronen und Positronen durch die $\mathrm{TM}_{010}\text{-}\pi$-Mode bei einer Frequenz von \SI{499.67}{MHz}.
Der Querschnitt der Kavität ist in Abbildung \ref{fig:petra_cavity} schematisch dargestellt.
Die Zellen werden durch leitende Kupferwände voneinander getrennt, die eine Verbreiterung an der Strahlachse des Resonators aufweisen.
Diese sogenannten \textit{Nasenkegel} (engl.\ \textit{Nose Cones}) erzeugen eine Erhöhung der elektrischen Feldstärke auf der Strahlachse bei gleichzeitiger Verkürzung der Beschleunigungsstrecke und führen zu einem Anstieg des Laufzeitfaktors \eqref{eq:laufzeitfaktor} gegenüber einer Kavität ohne \textit{Nasenkegel} \cite[S.\ 48]{wangler}.

Jede der sieben Zellen des PETRA-Resonators stellt einen Hohlraumresonator dar, der durch vier symmetrisch angeordnete Koppelschlitze in der trennenden Kupferwand an die jeweiligen Nachbarzellen gekoppelt ist.
Dies führt zur Aufspaltung jeder Mode der Einzelzelle in $N$ Moden der Resonatorkette, wobei $N$ die Anzahl der gekoppelten Zellen ist.\footnote{Dies ist analog zu gekoppelten mechanischen Pendeln, welche ebenfalls $N$ verschiedene Schwingungsmoden aufweisen.}
Die $N$ Moden der Resonatorkette unterscheiden sich neben ihrer Resonanzfrequenz $\omega_0$ auch in unterschiedlichen Phasen des Feldes in den einzelnen Zellen.
Um diese Phasenbeziehung zu verstehen, betrachtet man einen $N$-zelligen Hohlraumresonator, bei dem eine Zelle durch ein externes Hochfrequenzsignal getrieben wird.
Durch die Kopplung benachbarter Zellen, werden in diesen ebenfalls Moden angeregt, wobei eine Phasendifferenz des Feldes zwischen zwei benachbarten Zellen~$\Delta \varphi$ auftritt.
Dieser Phasenvorschub ist charakteristisch für die jeweilige Mode der Resonatorkette und kann die Werte
\begin{align}
	\Delta \varphi = q \cdot \frac{\pi}{N-1} \qquad \text{mit} \qquad q = 0, 1, \dots, N-1
\end{align}
annehmen \cite[S.\ 110]{wangler}. Die Benennung orientiert sich an den Werten von~$\Delta \varphi$ (z.\ B.\ $\pi$-Mode für $\Delta \varphi = \pi$), sodass für den siebenzelligen PETRA-Resonator folgende Moden existieren:
\begin{align}
  \Delta \varphi = 0,\, \frac{1}{6} \pi,\, \frac{1}{3} \pi,\, \frac{1}{2} \pi,\, \frac{2}{3} \pi,\, \frac{5}{6} \pi,\, \pi \eqdot
\end{align}
Um die resultierende Phasenbeziehung zwischen den Zellen des Resonators zu erhalten, muss die Superposition von hin- und rücklaufender Welle auf der Resonatorkette beachtet werden.
Diese Überlagerung führt dazu, dass zwischen dem Feld zweier benachbarter Zellen nur Phasendifferenzen von $0$ und $\pi$ möglich sind oder die Felder in einzelnen Zellen durch destruktive Interferenz ausgelöscht werden.
Für den siebenzelligen PETRA-Resonator wurde diese Phasenbeziehung für alle möglichen Moden in Abbildung \ref{fig:phasenbeziehung} aufgetragen.

Zum Anregen von Resonatormoden dient eine Koppelschleife \cite{desy_schleife} in der mittleren Zelle der Kavität.
Dabei ist die Geometrie der Schleife angepasst, um eine kritische Kopplung ($\kappa = 1$) an die $\mathrm{TM}_{010}$-Beschleuniger\-mode ($\Delta \varphi = \pi$) zu ermöglichen.
Eine kritische Kopplung ist wünschenswert, da in diesem Fall die gesamte Leistung des treibenden Hochfrequenzsignals in den Resonator übertragen wird.
Eine Anpassung des Koppelfaktors kann durch Drehen der Schleife erreicht werden, da dies die effektive Fläche der Leiterschleife senkrecht zum Magnetfeld der betrachteten Resonatormode verändert.
In den Zellen~2 und 6 sind Abstimmstempel \cite{desy_stempel} angebracht, die durch Schrittmotoren in bzw.\ aus der Kavität gefahren werden können.
Das Verstellen der Stempel führt zu einer Änderung der Geometrie des Resonators und folglich zu einer Verschiebung der Resonanzfrequenz.
Dies kann zum Stimmen der Resonanzfrequenz einer Mode in einem beschränkten Frequenzbereich genutzt werden.
Darüber hinaus haben die Stempel einen Einfluss auf die Feldverteilung im Resonator und können daher zur Symmetrisierung der Felder genutzt werden.
Die zwei weiteren Vakuumflansche in den Randzellen dienen dem Anschluss von Vakuumpumpen.

Die beiden in dieser Arbeit vermessenen Resonatoren seien im Folgenden (neben den fünfzelligen Beschleunigungsresonatoren PETRA-I und PETRA-II des ELSA Strecherrings) mit PETRA-III und PETRA-IV bezeichnet.


%------------------------------------------------------------------------------
\section{Aufbau des Störkörpermessstandes}
\label{sec:aufbau_messstand}
%------------------------------------------------------------------------------
\begin{sidewaysfigure}[p]
	\centering
	\includegraphics[width=1.0\textheight]{./figs/cavity/messaufbau.pdf}
	\caption[Schematischer Aufbau des Störkörpermessstandes]{Schematischer Aufbau des Störkörpermessstandes für einen siebenzelligen PETRA-Resonator mit Abstimmstempel und Einkoppelschleife (a), Montageträger (b), Gestell aus einem Aluminiumprofilsystem (c), Spindel mit Schrittmotor (d), Kreuzblenden (e), Polytetrafluorethylen-Störkörper (f) und Zugfeder (g).}
	\label{fig:stoerkoerpermessstand}
\end{sidewaysfigure}
Zur Bestimmung des elektrischen Feldes auf der Strahlachse des Resonators wird die in Abschnitt \ref{sec:resonante_stoerkoerpermessung} eingeführte resonante Störkörpermessung genutzt.
Dazu wird ein kugelförmiger Störkörper verwendet, welcher durch eine zentrische Bohrung auf einem Kunststofffaden befestigt werden kann.
Der Störkörper besteht aus Polytetrafluorethylen (PTFE), welches eine verschwindende magnetische Suszeptibilität aufweist \cite{keyjeff} und damit eine relative Permeabilität von $\mu_\mathrm{r} \approx 1$ hat, was eine direkte Bestimmung des elektrischen Feldes durch Gleichung \eqref{eq:skm_e_feld_normiert} erlaubt.
Außerdem zeigt PTFE keine signifikante Frequenzabhängigkeit der relativen Permittivität~$\varepsilon_\mathrm{r}$ auf dem in dieser Arbeit betrachteten Frequenzbereich \cite[S.\ 2201]{CRC}.
Die Größe des Störkörpers entscheidet unter anderem, welches Ortsauflösungsvermögen bei der Feldvermessung erreicht werden kann.
Dies ist darauf zurückzuführen, dass räumliche Strukturen des elektrischen Feldes, die eine wesentlich kleinere Ausdehnung als der Durchmesser des Störkörpers aufweisen, nicht aufgelöst werden können.
Darüber hinaus legt das Volumen des Störkörpers die Größe der Frequenzverschiebung bei der Störkörpermessung fest.
Bei der Dimensionierung des Störkörpers muss daher zwischen größerer Frequenzverschiebung (größerer Störkörper) und größerem Ortsauflösungsvermögen (kleinerer Störkörper) abgewogen werden.

Um den Störkörper auf der Strahlachse durch den Resonator bewegen zu können, wurde der Störkörpermessstand aus Abbildung \ref{fig:stoerkoerpermessstand} aufgebaut.
Über ein Gestell aus einem Aluminiumprofilsystem und einem System von Umlenkrollen, welche fest mit dem siebenzelligen PETRA-Resonator verbunden sind, kann ein Kunststofffaden, an dem der Störkörper befestigt ist, durch den Resonator gespannt werden.
Dieser Faden wird dann beidseitig fest mit einer Spindel verbunden, die wiederum auf der Welle eines Schrittmotors befestigt ist.
Die Rückführung des Fadens auf die Spindel führt dazu, dass unabhängig von der Spannung des Fadens das Drehmoment auf der Welle des Schrittmotors kompensiert wird.
Dadurch kann der Faden so stark gespannt werden, dass das Durchhängen des Störkörpers am Faden vernachlässigt werden kann, ohne dabei einen Schrittverlust durch ein überlastendes Drehmoment am Motor zu riskieren.
Darüber hinaus verhindert die feste Verbindung des Fadens mit der Spindel ein longitudinales Verrutschen des Fadens in seiner Führung, was insbesondere für eine präzise Ortsbestimmung des Störkörpers wichtig ist.
Zusätzlich wurde an den Vakuumflanschen des Resonators Kreuzblenden installiert, um einerseits ein Eindringen von Staub zu vermindern und andererseits eine Zentrierung des Störkörpers auf der Strahlachse zu ermöglichen.

Durch das Auf- beziehungsweise Abrollen des Fadens auf der Spindel, kann der Störkörper entlang der Strahlachse verschoben werden.
Die Drehung der Spindel erfolgt dabei durch den 2-Phasen Schrittmotor \textit{MDrive\textsuperscript{\textregistered} 23 Plus Motion Control} des Herstellers \textit{Schneider Electric} \cite{motor_datasheet}.
Der Motor besitzt eine integrierte Steuereinheit, welche die direkte Ansteuerung über eine serielle Schnittstelle ermöglicht.
Ein voller Schritt des Motors entspricht einem Drehwinkel der Welle von \SI{1.8}{\degree}.
Durch eine spezielle Ansteuerungstechnik, welche in der Steuereinheit implementiert wurde, wird ein Schritt zusätzlich in \num{256} sogenannte \textit{Microsteps} eingeteilt.
Die Ortsinformation des Störkörpers entlang der Strahlachse kann dann aus der Anzahl der erfolgten Microsteps gewonnen werden.
Aus der Geometrie der Spindel folgt für die zugehörige Proportionalitätskonstante ca.\ \SI{0.006}{\milli\metre\per\micro\step}.
Die Stellgenauigkeit von Schrittmotoren liegt typischerweise bei \SI{5}{\percent} eines vollen Schrittes \cite{gecko}, was einem Winkelfehler von \SI{0.09}{\degree} oder einem Fehler in der Störkörperposition von weniger als \SI{0.1}{\milli\metre} entspricht.
Der limitierende Faktor für die Genauigkeit der Störkörperpositon liegt demnach nicht in der Stellgenaugikeit des Motors, sondern in der ungleichen mechanischen Verspannung des Kunststofffadens aufgrund von Reibung in den Lagern der Umlenkrollen.
Mit dem verwendeten Messaufbau können so Fehler der Positionsbestimmung von unter \SI{0.5}{mm} erreicht werden, was eine ausreichende Genaugikeit für die Vermessung der Resonatoren darstellt.

Zur Bestimmung der Resonanzfrequenz und Güte einer Resonatormode dient der vektorielle Netzwerkanalysator \textit{ZVC 1127.8600.62} von \textit{Rohde \& Schwarz}.
Dieser wird über ein \SI{50}{\ohm}-Koaxialkabel (RG~214/U) mit der Koppelschleife verbunden, wobei die Verbindung durch einen Spezialadapter vom Typ-N-Stecker des Kabels auf die $6\tfrac{1}{8}$-Zoll-\SI{50}{\ohm}-Koaxialverbindung der Koppelschleife erfolgt.
Im Allgemeinen dienen Netzwerkanalysatoren der Messung von Reflexion und Transmission eines Signals variabler Frequenz an elektrischen Netzwerken.
Für die resonante Störkörpermessung, wie sie in dieser Arbeit durchgeführt wird, ist vor allem die Messung des Reflexionsfaktors~$\rho$ interessant, weshalb sich die folgende Beschreibung auf die Reflexionsmessung konzentriert.
Der Signalgenerator im vektoriellen Netzwerkanalysator (VNA) erzeugt ein sinusförmiges Signal mit variabler Frequenz und konstanter Leistung (\SI{6}{dBm}), welches über einen Richtkoppler auf die angeschlossene Messleitung übertragen werden kann.
Trifft das Signal auf die Koppelschleife, so wird es dort teilweise reflektiert und erreicht über die Messleitung erneut den Netzwerkanalysator.
Durch den Richtkoppler wird nun das reflektierte vom auslaufenden Signal getrennt, was eine Bestimmung des komplexen Reflexionsfaktors~$\rho$ durch einen Vergleich von Phase und Leistung beider Signale erlaubt.
Um ein von der Dämpfung und Laufzeit im Koaxialkabel unabhängiges Ergebnis zu erhalten, kann eine Kalibration durchgeführt werden, indem das Ende der Messleitung nacheinander durch einen offenen, kurzgeschlossenen und angepassten \SI{50}{\ohm}-Abschluss terminiert wird.
Dies erlaubt die automatisierte Berechnung eines Korrekturfaktors für den Reflexionskoeffizienten durch die Software des VNA.
Durch eine Variation der Signalfrequenz~$\nu$ in einem sog.\ \textit{Sweep} kann das Reflexionsspektrum~$\rho(\nu)$ in einem begrenzten Frequenzbereich gemessen werden.
Der verwendete VNA ermöglicht die Messung des Reflexionsspektrums durch bis zu 2001 gleichverteilte Messpunkte auf dem vorgegebenen Frequenzintervall.
Außerdem ist es möglich, einen laufenden Mittelwert des Spektrums über eine beliebige Anzahl von Sweeps zu bilden und auf den gemessenen Spektren typische mathematische Operationen, wie beispielsweise die Suche des Minimums der Reflexion $|\rho|$, durchzuführen.
Die Ein- und Ausgabe kann auch hier über eine serielle Schnittstelle erfolgen.

Zur Realisierung einer automatisierten Störkörpermessung und der Koordination von Schrittmotor und Netzwerkanalysator dient der Mikrocomputer \textit{Raspberry Pi}, der mit den Komponenten des Messaufbaus über serielle Schnittstellen kommunizieren kann.
In der Programmiersprache \textit{Python} wurde dazu die serielle Kommunikation mit Motor und VNA sowie die Steuerung des Messablaufs implementiert.
Der genaue Ablauf einer Störkörpermessung wird im nächsten Abschnitt erläutert.


%------------------------------------------------------------------------------
\section{Messmethodik}
\label{sec:messmethodik}
%------------------------------------------------------------------------------

%------------------------------------------------------------------------------
\subsection{Temperaturabhängigkeit der Resonanzfrequenz}
\label{sec:temperaturabh_resonanzfrequenz}
%------------------------------------------------------------------------------
Für die resonante Störkörpermessung gilt es die Verschiebung der Resonanzfrequenz $\Delta \nu$ durch den Störkörper an verschiedenen Positionen im Resonator zu messen.
Dabei muss man beachten, dass es neben der Frequenzverschiebung durch den Störkörper auch zu einer Verstimmung aufgrund von Temperaturänderungen des Resonators kommt.
Eine Erwärmung führt beispielsweise zu einer thermischen Ausdehnung des Resonators und folglich zu einer Vergrößerung des Hohlraumvolumens.
Diese Geometrieänderung des Hohlraums führt zu einer Verringerung der Resonanzfrequenz der Resonatormoden.
Analog führt ein Abkühlen des Resonators zur Kontraktion desselben, die wiederum eine Erhöhung der Resonanzfrequenz zur Folge hat. Für die vermessenen PETRA-Resonatoren liegt die Verstimmung durch Temperaturänderung bei ungefähr \SI{8}{\kilo\hertz\per\celsius} \cite{desy_petra} und liegt in der gleichen Größenordnung wie die Verschiebung durch den verwendeten Störkörper.
Aus diesem Grund muss die Temperaturabhängigkeit der Resonanzfrequenz beim Messablauf berücksichtigt werden.

Sei dazu durch $\nu_0(z)$ die Resonanzfrequenz einer Resonatormode, mit dem Störkörper auf der Position~$z$ entlang der Strahlenachse, gegeben.
Außerdem sei eine Referenzposition des Störkörpers~$z_\mathrm{ref}$ mit zugehöriger Resonanzfrequenz~$\nu_\mathrm{ref} = \nu_0(z_\mathrm{ref})$ definiert.
Die beiden somit eingeführten Größen sind nach der vorigen Erläuterung abhängig von der Temperatur des Resonators.
Für eine kleine Perturbation der Resonatormode wie sie bei der Störkörpermessung auftritt, führt eine Temperaturänderung des Resonators zur gleichen Verschiebung beider Frequenzen $\nu_0(z)$ und $\nu_\mathrm{ref}$.
Demnach ist die Differenz~$\nu_0(z)- \nu_\mathrm{ref}$ unabhängig von der Temperatur des Resonators, wobei zu beachten ist, dass beide Frequenzen bei der gleichen Resonatortemperatur gemessen werden.
Da in der Praxis die Messung der Resonanzfrequenz an beiden Positionen nicht instantan erfolgen kann, muss als Anforderung gestellt werden, dass die Temperaturänderung während der Messung beider Größen vernachlässigbar ist.
Um dies zu gewährleisten wurden die Messungen hauptsächlich über Nacht durchgeführt, um schnelle Temperaturänderungen durch Sonneneinstrahlung zu vermeiden.
Es ist praktisch, die Referenzposition des Störkörpers so zu wählen, dass die Frequenz~$\nu_\mathrm{ref}$ der Resonanzfrequenz des ungestörten Resonators entspricht.
Dies ist der Fall, wenn am Ort des Störkörpers das elektrische Feld verschwindet, wie beispielsweise unmittelbar vor der Kreuzblende am Vakuumflansch des Resonators (vgl.\ Abb.\ \ref{fig:stoerkoerpermessstand}).
Dadurch entspricht die temperaturunabhängige Frequenzdifferenz der Verschiebung der Resonanzfrequenz~$\Delta \nu$ des gestörten vom ungestörten Resonator.


%------------------------------------------------------------------------------
\subsection{Ablauf der Störkörpermessung}
%------------------------------------------------------------------------------
Für eine Bestimmung des elektrischen Feldes einer Mode auf der Resonatorachse ist gemäß Gleichung \eqref{eq:skm_e_feld_normiert} neben der Verschiebung der Resonanzfrequenz durch den Störkörper auch die Kenntniss der Güte~$Q_0$ und Resonanzfrequenz~$\nu_0$ erforderlich.
Daher wird zunächst der Frequenzbereich des VNA um die Resonanz der zu untersuchenden Mode zentriert und eine Kalibration durchgeführt.
Anschließend wird das kalibrierte Reflexionsspektrum $\rho(\nu)$ durch den VNA aufgenommen, was zur Bestimmung von Güte und Resonanzfrequenz ausgewertet werden kann (vgl.\ Abschnitt \ref{sec:resfreq_guete}).
Danach wird der Störkörper in den Resonator gefahren und die Referenzposition des Störkörpers, wie in Abschnitt \ref{sec:temperaturabh_resonanzfrequenz} erläutert, festgelegt.
Nun muss der Frequenzbereich des VNA so eingestellt werden, dass die Resonanzkurve (vgl.\ Abb.\ \ref{fig:resonanzkurve}) der zu vermessenden Resonatormode stets in den Messbereich fällt.
Dabei ist insbesondere die pertubative Verstimmung durch den Störkörper, aber auch die thermische Verstimmung zu beachten.
Nachdem ein geeigneter Frequenzbereich gefunden wurde, muss der Netzwerkanalysator erneut kalibriert werden.
Die automatisierte Messung kann dann mit dem im Rahmen dieser Arbeit implementierten Störkörpermessprogramm (basierend auf \cite{schedler_prog}) erfolgen.

Das Programm misst dabei die Verschiebung der Resonanzfrequenz durch den Störkörper an verschiedenen Stellen im Resonator, indem die in Abschnitt \ref{sec:temperaturabh_resonanzfrequenz} zur temperaturunabhängigen Messung eingeführte Methode ausgenutzt wird.
Die vom Störkörpermessprogramm durchgeführten Schritte zur Bestimmung der Resonanzfrequenzverschiebung an einer Position~$z$ sollen kurz dargestellt werden:
\begin{enumerate}
	\item Der Störkörper wird auf die Referenzposition~$z_\mathrm{ref}$ gefahren.
	\item Es wird gewartet (\SI{5}{s}), bis die Schwingung des Störkörpers abgeklungen ist.
	\item Der VNA bildet den laufenden Mittelwert des Reflexionsspektrums $|\rho(\nu)|$ über fünf Messzyklen.
	\item Die Resonanzfrequenz~$\nu_\mathrm{ref}$ wird durch das Minimum des gemittelten Reflexionsspektrums bestimmt.
	\item Die Schritte 1.\ bis 4.\ werden an der Position~$z$ wiederholt und die Resonanzfrequenz $\nu_0(z)$ bestimmt.
	\item Die Störkörperposition~$z$, Resonanzfrequenz~$\nu_0(z)$ des gestörten Resonators, Referenzfrequenz~$\nu_\mathrm{ref}$ und die Differenz \mbox{$\nu_0(z) - \nu_\mathrm{ref}$} werden abgespeichert.
\end{enumerate}
Diese Messschritte werden so lange wiederholt, bis der Resonator auf der gesamten Länge in einer frei wählbaren Schrittweite vermessen wurde.

Die somit beschriebene Messmethode kann genutzt werden, um das elektrische Feld verschiedener Resonatormoden zu vermessen.
Dies wurde in dieser Arbeit genutzt, um die $\mathrm{TM}_{010}$-Moden beider PETRA-Resonatoren und eine Auswahl von Moden höherer Ordnung des PETRA-III Resonators vermessen.